import{W as N,j as l,a as e,b as w}from"./app-ad512157.js";import{A as b}from"./tooltip.esm-0c1f0e31.js";import{T as h,I as n}from"./TextInput-bdf2d61e.js";import{I as r}from"./InputLabel-314a5a23.js";import{P as F}from"./PrimaryButton-da4756d8.js";import{C as v,M as f}from"./multiselect.esm-71896fce.js";import{I as C}from"./inputnumber.esm-22b3db0c.js";import"./button.esm-00cd24b4.js";import"./virtualscroller.esm-8f270407.js";function A(t){console.log("props",t);const{data:i,setData:s,patch:g,processing:p,errors:m,reset:y}=N({id:t.event.id,name:t.event.name,date_time_start:new Date(t.event.date_time_start),date_time_end:new Date(t.event.date_time_end),participants:t.event.event_participant.map(a=>a.user),location:t.event.location,facilities:[]});console.log("data",i);const c=a=>{s(a.target.name,a.target.type==="checkbox"?a.target.checked:a.target.value)},_=a=>{a.preventDefault(),g(route("admin.event.update",t.event.id))};return l(b,{user:t.auth.user,children:[e(w,{title:"Add event"}),l("div",{className:"w-full px-4 py-5 bg-white rounded-lg shadow",children:[e("h2",{className:"text-2xl font-bold",children:"Edit event"}),l("form",{onSubmit:_,children:[l("div",{children:[e(r,{htmlFor:"name",value:"Name"}),e(h,{id:"name",name:"name",value:i.name,className:"mt-1 block w-full",autoComplete:"name",isFocused:!0,onChange:c,required:!0}),e(n,{message:m.name,className:"mt-2"})]}),l("div",{className:"mt-4",children:[e(r,{htmlFor:"date_time_start",value:"Tanggal Kegiatan Dimulai"}),e(v,{value:new Date(i.date_time_start),onChange:a=>s("date_time_start",a.value),showTime:!0,hourFormat:"24",dateFormat:"yy-mm-dd"}),e(n,{message:m.date_time_start,className:"mt-2"})]}),l("div",{className:"mt-4",children:[e(r,{htmlFor:"date_time_end",value:"Tanggal Kegiatan Selesai"}),e(v,{value:new Date(i.date_time_end),onChange:a=>s("date_time_end",a.value),showTime:!0,hourFormat:"24",dateFormat:"yy-mm-dd"}),e(n,{message:m.date_time_end,className:"mt-2"})]}),l("div",{className:"mt-4",children:[e(r,{htmlFor:"password",value:"Staff"}),e(f,{value:i.participants,onChange:a=>s("participants",a.value),options:t.users,optionLabel:"name",placeholder:"Select Staff",className:"mt-2 block w-full"}),e(n,{message:m.participants,className:"mt-2"})]}),e("div",{className:"mt-4",children:e("ul",{children:i.participants.map(a=>e("li",{children:a.name}))})}),l("div",{className:"mt-4",children:[e(r,{htmlFor:"password_confirmation",value:"Location"}),e(h,{id:"location",name:"location",value:i.location,className:"mt-1 block w-full",onChange:c,required:!0}),e(n,{message:m.password_confirmation,className:"mt-2"})]}),l("div",{className:"mt-4",children:[e(r,{htmlFor:"password",value:"Facilities"}),e(f,{value:i.facilities,onChange:a=>{s("facilities",a.value),console.log("multi",a.value)},options:t.facilities,optionLabel:"name",placeholder:"Select Facilities",className:"mt-2 block w-full"}),e(n,{message:m.facilities,className:"mt-2"})]}),e("div",{className:"mt-4",children:e("ul",{children:i.facilities.map((a,d)=>l("li",{className:"mb-3",children:[e("span",{className:"mr-2",children:a.name})," ",e(C,{showButtons:!0,name:"facilities",value:a.quantity,onChange:u=>{console.log("e",u);let o=i.facilities;o[d].quantity=u.value,console.log("facilities",o[d]),s("facilities",o)}})]}))})}),e("div",{className:"flex items-center justify-end mt-4",children:e(F,{className:"ml-4",disabled:p,children:"Save"})})]})]})]})}export{A as default};
