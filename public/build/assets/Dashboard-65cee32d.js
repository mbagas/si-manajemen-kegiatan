import{r as m,j as l,a as e,b as g}from"./app-5ef925c1.js";import"./Dropdown-97e11049.js";import{F as u,A as p}from"./tooltip.esm-8c154d5b.js";import{D as N,C as s}from"./column.esm-4605f4aa.js";import"./transition-4a208446.js";import"./virtualscroller.esm-c62725ab.js";import"./inputnumber.esm-880e64f5.js";import"./dropdown.esm-30eac630.js";import"./button.esm-6339715f.js";function M(t){const[c,b]=m.useState(!1);m.useState("");const[h,P]=m.useState({name:{value:null,matchMode:u.CONTAINS},date_time_start:{value:null,matchMode:u.CONTAINS},date_time_end:{value:null,matchMode:u.CONTAINS}}),a=new Date;console.log(t);let n;t.auth.user.role==="staff"&&(n=t.event.map(r=>r.event),console.log(n));const f=(r,S)=>{let i="Upcoming",d=new Date(r.date_time_start),o=new Date(r.date_time_end);return a<d&&a<o?i="Upcoming":a>d&&a<o?i="Ongoing":a>d&&a>o&&(i="Completed"),e("div",{className:"flex justify-item-end",children:l("span",{className:`${i==="Upcoming"?"bg-sky-500":i==="Ongoing"?"bg-amber-500":"bg-lime-500"} text-white p-1 rounded`,children:[i," "]})})};return l(p,{user:t.auth.user,children:[e(g,{title:"User"}),l("div",{className:"w-full px-4 py-5 bg-white rounded-lg shadow",children:[e("h2",{className:"text-2xl font-bold",children:"SISTEM INFORMASI PENGELOLAAN KEGIATAN RADAR LAMPUNG"}),l("div",{className:"mt-2",children:[e("h2",{className:"text-xl font-bold mb-4",children:"Event List"}),e("div",{children:l(N,{value:t.auth.user.role==="staff"?n:t.events,paginator:!0,rows:10,dataKey:"id",filters:h,filterDisplay:"row",loading:c,globalFilterFields:["name","date_time_start","date_time_end"],emptyMessage:"No data found.",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",rowsPerPageOptions:[10,25,50],children:[e(s,{field:"name",header:"Name",filter:!0,filterPlaceholder:"Search by name",sortable:!0,style:{minWidth:"12rem"}}),e(s,{field:"date_time_start",header:"Date Start",filter:!0,filterPlaceholder:"Search by date",sortable:!0,style:{minWidth:"12rem"}}),e(s,{field:"date_time_end",header:"Date End",filter:!0,filterPlaceholder:"Search by date",sortable:!0,style:{minWidth:"12rem"}}),e(s,{field:"modifiedTime",header:"Status",body:r=>f(r),style:{minWidth:"10rem"}})]})})]})]})]})}export{M as default};
