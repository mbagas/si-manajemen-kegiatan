import{r as s,W as y,j as r,a as e,b as p,d as l,F as P}from"./app-5ef925c1.js";import{F as d,A as b}from"./tooltip.esm-8c154d5b.js";import{D as N,C as o}from"./column.esm-4605f4aa.js";import{B as i}from"./button.esm-6339715f.js";import"./virtualscroller.esm-c62725ab.js";import"./inputnumber.esm-880e64f5.js";import"./dropdown.esm-30eac630.js";function O(a){const[u,w]=s.useState(!1);s.useState("");const[c,x]=s.useState({name:{value:null,matchMode:d.CONTAINS},date_time_start:{value:null,matchMode:d.CONTAINS}});console.log(a);let n=[];a.auth.user.role==="staff"&&(n=a.event.map(t=>t.event),console.log(n));const{data:L,setData:F,delete:m,processing:S,reset:T,errors:k}=y({}),h=()=>e("div",{className:"flex justify-item-end",children:e(l,{href:route("admin.event.create"),children:e(i,{type:"button",label:"Tambah",icon:"pi pi-plus",severity:"success"})})});function f(t){confirm("Are you sure you want to delete this event?")&&m(route("admin.event.destroy",t.id))}const g=h(),v=(t,A)=>r("div",{className:"grid grid-cols-3 gap-1",children:[e(l,{href:a.auth.user.role==="admin"?route("admin.event.show",t):a.auth.user.role==="staff"?route("staff.event.show",t):route("officeMaid.event.show",t),children:e(i,{icon:"pi pi-eye",severity:"success"})}),a.auth.user.role==="admin"&&r(P,{children:[e(l,{href:route("admin.event.edit",t),children:e(i,{icon:"pi pi-pencil",severity:"warning"})}),e(i,{onClick:()=>f(t),icon:"pi pi-trash",severity:"danger"})]})]});return r(b,{user:a.auth.user,children:[e(p,{title:"event"}),r("div",{className:"w-full px-4 py-5 bg-white rounded-lg shadow",children:[e("h2",{className:"text-2xl font-bold",children:"Event"}),e("div",{className:"mt-2",children:r(N,{value:a.auth.user.role==="staff"?n:a.events,paginator:!0,rows:10,dataKey:"id",filters:c,filterDisplay:"row",loading:u,globalFilterFields:["name","date_time_start"],header:a.auth.user.role==="admin"&&g,emptyMessage:"No data found.",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",rowsPerPageOptions:[10,25,50],children:[e(o,{field:"name",header:"Name",filter:!0,filterPlaceholder:"Search by name",sortable:!0,style:{minWidth:"12rem"}}),e(o,{field:"date_time_start",header:"Date",filter:!0,filterPlaceholder:"Search by date",sortable:!0,style:{minWidth:"12rem"}}),e(o,{field:"modifiedTime",header:"Action",body:t=>v(t),style:{minWidth:"10rem"}})]})})]})]})}export{O as default};
